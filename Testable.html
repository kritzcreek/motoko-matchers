<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="Canister.html">Canister</a></li></li><li><li><a href="Matchers.html">Matchers</a></li></li><li><li><a href="Suite.html">Suite</a></li></li><li><li><a href="Testable.html">Testable</a></li></li><li><li><a href="matchers/Hashmap.html">matchers/Hashmap</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.Testable">Testable</a></li></li><li><li><a href="#type.TestableItem">TestableItem</a></li></li><li><li><a href="#value.textTestable">textTestable</a></li></li><li><li><a href="#value.text">text</a></li></li><li><li><a href="#value.natTestable">natTestable</a></li></li><li><li><a href="#value.nat">nat</a></li></li><li><li><a href="#value.intTestable">intTestable</a></li></li><li><li><a href="#value.int">int</a></li></li><li><li><a href="#value.boolTestable">boolTestable</a></li></li><li><li><a href="#value.bool">bool</a></li></li><li><li><a href="#value.charTestable">charTestable</a></li></li><li><li><a href="#value.char">char</a></li></li><li><li><a href="#value.arrayTestable">arrayTestable</a></li></li><li><li><a href="#value.array">array</a></li></li><li><li><a href="#value.listTestable">listTestable</a></li></li><li><li><a href="#value.list">list</a></li></li><li><li><a href="#value.optionalTestable">optionalTestable</a></li></li><li><li><a href="#value.optional">optional</a></li></li><li><li><a href="#value.resultTestable">resultTestable</a></li></li><li><li><a href="#value.result">result</a></li></li><li><li><a href="#value.tuple2Testable">tuple2Testable</a></li></li><li><li><a href="#value.tuple2">tuple2</a></li></li></ul></nav><div class="documentation"><h1>Testable</h1><p>Things we can compare in tests</p>
<p>This module contains the <code>Testable&lt;A&gt;</code> abstraction, which bundles
<code>toText</code> and <code>equals</code> for a type <code>A</code> so we can use them as &quot;expected&quot;
values in tests.
It also contains a few helpers to build <code>Testable</code>'s for compound types
like Arrays and Optionals. If you want to test your own objects or control
how things are printed and compared in your own tests you'll need to create
your own <code>Testable</code>'s.</p>
<pre class="motoko"><code class="motoko">import T &quot;mo:matchers/Testable&quot;;

type Person = { name : Text, surname : ?Text };
// Helper
let optText : Testable&lt;(?Text)&gt; = T.optionalTestable(T.textTestable)
let testablePerson : Testable&lt;Person&gt; = {
   display = func (person : Person) : Text =
       person.name # &quot; &quot; #
       optText.display(person.surname)
   equals = func (person1 : Person, person2 : Person) : Bool =
       person1.name == person2.name and
       optText.equals(person1.surname, person2.surname)
}</code></pre><div class="declaration"><h4 class="type-declaration" id="type.Testable"><span class="keyword">type </span><span class="type">Testable</span>&lt;<span class="type">A</span>&gt; = { display : <span class="type">A</span> -&gt; <span class="type">Text</span>; equals : (<span class="type">A</span>, <span class="type">A</span>) -&gt; <span class="type">Bool</span> }</h4><p><p>Packs up all the functions we need to compare and display values under test</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.TestableItem"><span class="keyword">type </span><span class="type">TestableItem</span>&lt;<span class="type">A</span>&gt; = { display : <span class="type">A</span> -&gt; <span class="type">Text</span>; equals : (<span class="type">A</span>, <span class="type">A</span>) -&gt; <span class="type">Bool</span>; item : <span class="type">A</span> }</h4><p><p>A value combined with its <code>Testable</code></p>
</p></div><div class="declaration"><h4 class="value-declaration" id="value.textTestable"><code><span class="keyword">public let </span><span class="fnname">textTestable</span> : <span class="type">Testable</span>&lt;<span class="type">Text</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.text"><code><span class="keyword">public func </span><span class="fnname">text</span>(<span class="parameter">t</span> : <span class="type">Text</span>) : <span class="type">TestableItem</span>&lt;<span class="type">Text</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="value-declaration" id="value.natTestable"><code><span class="keyword">public let </span><span class="fnname">natTestable</span> : <span class="type">Testable</span>&lt;<span class="type">Nat</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.nat"><code><span class="keyword">public func </span><span class="fnname">nat</span>(<span class="parameter">n</span> : <span class="type">Nat</span>) : <span class="type">TestableItem</span>&lt;<span class="type">Nat</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="value-declaration" id="value.intTestable"><code><span class="keyword">public let </span><span class="fnname">intTestable</span> : <span class="type">Testable</span>&lt;<span class="type">Int</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.int"><code><span class="keyword">public func </span><span class="fnname">int</span>(<span class="parameter">n</span> : <span class="type">Int</span>) : <span class="type">TestableItem</span>&lt;<span class="type">Int</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="value-declaration" id="value.boolTestable"><code><span class="keyword">public let </span><span class="fnname">boolTestable</span> : <span class="type">Testable</span>&lt;<span class="type">Bool</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.bool"><code><span class="keyword">public func </span><span class="fnname">bool</span>(<span class="parameter">n</span> : <span class="type">Bool</span>) : <span class="type">TestableItem</span>&lt;<span class="type">Bool</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="value-declaration" id="value.charTestable"><code><span class="keyword">public let </span><span class="fnname">charTestable</span> : <span class="type">Testable</span>&lt;<span class="type">Char</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.char"><code><span class="keyword">public func </span><span class="fnname">char</span>(<span class="parameter">n</span> : <span class="type">Char</span>) : <span class="type">TestableItem</span>&lt;<span class="type">Char</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.arrayTestable"><code><span class="keyword">public func </span><span class="fnname">arrayTestable</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">testableA</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;) : <span class="type">Testable</span>&lt;[<span class="type">A</span>]&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.array"><code><span class="keyword">public func </span><span class="fnname">array</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">testableA</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;, <span class="parameter">xs</span> : [<span class="type">A</span>]) : <span class="type">TestableItem</span>&lt;[<span class="type">A</span>]&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.listTestable"><code><span class="keyword">public func </span><span class="fnname">listTestable</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">testableA</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;) : <span class="type">Testable</span>&lt;<span class="type">List.List</span>&lt;<span class="type">A</span>&gt;&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.list"><code><span class="keyword">public func </span><span class="fnname">list</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">testableA</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;, <span class="parameter">xs</span> : <span class="type">List.List</span>&lt;<span class="type">A</span>&gt;) : <span class="type">TestableItem</span>&lt;<span class="type">List.List</span>&lt;<span class="type">A</span>&gt;&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.optionalTestable"><code><span class="keyword">public func </span><span class="fnname">optionalTestable</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">testableA</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;) : <span class="type">Testable</span>&lt;?<span class="type">A</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.optional"><code><span class="keyword">public func </span><span class="fnname">optional</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">testableA</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;, <span class="parameter">x</span> : ?<span class="type">A</span>) : <span class="type">TestableItem</span>&lt;?<span class="type">A</span>&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.resultTestable"><code><span class="keyword">public func </span><span class="fnname">resultTestable</span>&lt;<span class="type">R</span>, <span class="type">E</span>&gt;(<span class="parameter">rTestable</span> : <span class="type">Testable</span>&lt;<span class="type">R</span>&gt;, <span class="parameter">eTestable</span> : <span class="type">Testable</span>&lt;<span class="type">E</span>&gt;) : <span class="type">Testable</span>&lt;<span class="type">Result.Result</span>&lt;<span class="type">R</span>, <span class="type">E</span>&gt;&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.result"><code><span class="keyword">public func </span><span class="fnname">result</span>&lt;<span class="type">R</span>, <span class="type">E</span>&gt;(<br/>  <span class="parameter">rTestable</span> : <span class="type">Testable</span>&lt;<span class="type">R</span>&gt;, <br/>  <span class="parameter">eTestable</span> : <span class="type">Testable</span>&lt;<span class="type">E</span>&gt;, <br/>  <span class="parameter">x</span> : <span class="type">Result.Result</span>&lt;<span class="type">R</span>, <span class="type">E</span>&gt;<br/>) : <span class="type">TestableItem</span>&lt;<span class="type">Result.Result</span>&lt;<span class="type">R</span>, <span class="type">E</span>&gt;&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.tuple2Testable"><code><span class="keyword">public func </span><span class="fnname">tuple2Testable</span>&lt;<span class="type">A</span>, <span class="type">B</span>&gt;(<span class="parameter">ta</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;, <span class="parameter">tb</span> : <span class="type">Testable</span>&lt;<span class="type">B</span>&gt;) : <span class="type">Testable</span>&lt;(<span class="type">A</span>, <span class="type">B</span>)&gt;</code></h4><p></p></div><div class="declaration"><h4 class="function" id="value.tuple2"><code><span class="keyword">public func </span><span class="fnname">tuple2</span>&lt;<span class="type">A</span>, <span class="type">B</span>&gt;(<br/>  <span class="parameter">ta</span> : <span class="type">Testable</span>&lt;<span class="type">A</span>&gt;, <br/>  <span class="parameter">tb</span> : <span class="type">Testable</span>&lt;<span class="type">B</span>&gt;, <br/>  <span class="parameter">x</span> : (<span class="type">A</span>, <span class="type">B</span>)<br/>) : <span class="type">TestableItem</span>&lt;(<span class="type">A</span>, <span class="type">B</span>)&gt;</code></h4><p></p></div></div></body></html>