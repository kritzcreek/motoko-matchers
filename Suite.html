<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="Canister.html">Canister</a></li></li><li><li><a href="Matchers.html">Matchers</a></li></li><li><li><a href="Suite.html">Suite</a></li></li><li><li><a href="Testable.html">Testable</a></li></li><li><li><a href="matchers/Hashmap.html">matchers/Hashmap</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.Suite">Suite</a></li></li><li><li><a href="#value.run">run</a></li></li><li><li><a href="#value.suite">suite</a></li></li><li><li><a href="#value.test">test</a></li></li><li><li><a href="#value.testLazy">testLazy</a></li></li></ul></nav><div class="documentation"><h1>Suite</h1><p>A simple test runner</p>
<p>The functions in this module let you build up trees of tests, and run them.</p>
<pre class="motoko"><code class="motoko">import M &quot;mo:matchers/Matchers&quot;;
import T &quot;mo:matchers/Testable&quot;;
import Suite &quot;mo:matchers/Suite&quot;;

let suite = Suite.suite(&quot;My test suite&quot;, [
    Suite.suite(&quot;Nat tests&quot;, [
        Suite.test(&quot;10 is 10&quot;, 10, M.equals(T.nat(10))),
        Suite.test(&quot;5 is greater than three&quot;, 5, M.greaterThan&lt;Nat&gt;(3)),
    ])
]);
Suite.run(suite);</code></pre><div class="declaration"><h4 class="type-declaration" id="type.Suite"><span class="keyword">type </span><span class="type">Suite</span> = {#node : { name : <span class="type">Text</span>; children : [<span class="type">Suite</span>] }; #test : { name : <span class="type">Text</span>; test : () -&gt; ?<span class="type">Matchers.Description</span> }}</h4><p><p>A collection of tests to be run together</p>
</p></div><div class="declaration"><h4 class="function" id="value.run"><code><span class="keyword">public func </span><span class="fnname">run</span>(<span class="parameter">suite</span> : <span class="type">Suite</span>)</code></h4><p><p>Runs a given suite of tests. Will exit with a non-zero exit code in case any of the tests fail.</p>
</p></div><div class="declaration"><h4 class="function" id="value.suite"><code><span class="keyword">public func </span><span class="fnname">suite</span>(<span class="parameter">suiteName</span> : <span class="type">Text</span>, <span class="parameter">suiteChildren</span> : [<span class="type">Suite</span>]) : <span class="type">Suite</span></code></h4><p><p>Constructs a test suite from a name and an Array of</p>
</p></div><div class="declaration"><h4 class="function" id="value.test"><code><span class="keyword">public func </span><span class="fnname">test</span>&lt;<span class="type">A</span>&gt;(<br/>  <span class="parameter">testName</span> : <span class="type">Text</span>, <br/>  <span class="parameter">item</span> : <span class="type">A</span>, <br/>  <span class="parameter">matcher</span> : <span class="type">Matchers.Matcher</span>&lt;<span class="type">A</span>&gt;<br/>) : <span class="type">Suite</span></code></h4><p><p>Constructs a single test by matching the given <code>item</code> against a <code>matcher</code>.</p>
</p></div><div class="declaration"><h4 class="function" id="value.testLazy"><code><span class="keyword">public func </span><span class="fnname">testLazy</span>&lt;<span class="type">A</span>&gt;(<br/>  <span class="parameter">testName</span> : <span class="type">Text</span>, <br/>  <span class="parameter">mkItem</span> : () -&gt; <span class="type">A</span>, <br/>  <span class="parameter">matcher</span> : <span class="type">Matchers.Matcher</span>&lt;<span class="type">A</span>&gt;<br/>) : <span class="type">Suite</span></code></h4><p><p>Like <code>test</code>, but accepts a thunk <code>mkItem</code> that creates the value to match against.
Use this to delay the evaluation of the to be matched value until the tests actually run.</p>
</p></div></div></body></html>